# ------------------------------------------------------------------
# Base Elasticsearch config loaded by all nodes.
# Additional node-specific settings (like node.roles, node.name)
# will be overridden via environment variables in docker-compose.yml
# ------------------------------------------------------------------

cluster.name: "my-secure-tls-cluster"

# Enable Security
xpack.security.enabled: true

# ------------------------------------------------------------------
# TLS for HTTP (REST) layer (PEM)
# ------------------------------------------------------------------
xpack.security.http.ssl.enabled: true
xpack.security.http.ssl.certificate: certs/node/es-node/es-node.crt
xpack.security.http.ssl.key: certs/node/es-node/es-node.key
xpack.security.http.ssl.certificate_authorities: [ "certs/ca/ca.crt" ]
# If you want the server to verify client certs, set e.g.:
# xpack.security.http.ssl.client_authentication: optional

# (Previously PKCS#12 references, now commented out)
# xpack.security.http.ssl.keystore.path: certs/node/instance.p12
# xpack.security.http.ssl.truststore.path: certs/node/instance.p12

# ------------------------------------------------------------------
# TLS for Transport (inter-node communication) (PEM)
# ------------------------------------------------------------------
xpack.security.transport.ssl.enabled: true
xpack.security.transport.ssl.verification_mode: certificate
xpack.security.transport.ssl.certificate: certs/node/es-node/es-node.crt
xpack.security.transport.ssl.key: certs/node/es-node/es-node.key
xpack.security.transport.ssl.certificate_authorities: [ "certs/ca/ca.crt" ]
xpack.security.http.ssl.key_passphrase: "changeme"
xpack.security.transport.ssl.key_passphrase: "changeme"


# (Previously PKCS#12 references, now commented out)
# xpack.security.transport.ssl.keystore.path: certs/node/instance.p12
# xpack.security.transport.ssl.truststore.path: certs/node/instance.p12

# ------------------------------------------------------------------
# Additional custom settings or overrides can go here
# ------------------------------------------------------------------

# For example, if needed:
# sxpack.security.http.ssl.verification_mode: certificate

# node.name, node.roles, discovery.seed_hosts, etc. 
# will typically come from docker-compose environment variables
